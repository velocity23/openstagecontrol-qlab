{
  "createdWith": "Open Stage Control",
  "version": "1.14.3",
  "type": "session",
  "content": {
    "type": "root",
    "id": "root",
    "visible": true,
    "interaction": true,
    "comments": "",
    "width": "auto",
    "height": "auto",
    "colorText": "auto",
    "colorWidget": "auto",
    "alphaFillOn": "auto",
    "padding": "auto",
    "html": "",
    "css": "",
    "colorBg": "auto",
    "layout": "default",
    "justify": "start",
    "gridTemplate": "",
    "contain": true,
    "scroll": true,
    "innerPadding": true,
    "verticalTabs": false,
    "hideMenu": false,
    "variables": "@{parent.variables}",
    "traversing": false,
    "value": "",
    "default": "",
    "linkId": "",
    "address": "auto",
    "preArgs": "",
    "typeTags": "",
    "decimals": 2,
    "target": "",
    "ignoreDefaults": false,
    "bypass": false,
    "onCreate": "",
    "onValue": "",
    "widgets": [
      {
        "type": "panel",
        "top": "0%",
        "left": "0%",
        "id": "main",
        "visible": true,
        "interaction": true,
        "comments": "",
        "width": "100%",
        "height": "100%",
        "expand": "false",
        "colorText": "auto",
        "colorWidget": "auto",
        "colorStroke": "auto",
        "colorFill": "auto",
        "alphaStroke": "auto",
        "alphaFillOff": "auto",
        "alphaFillOn": "auto",
        "lineWidth": "auto",
        "padding": "auto",
        "html": "",
        "css": "",
        "colorBg": "auto",
        "layout": "default",
        "justify": "start",
        "gridTemplate": "",
        "contain": true,
        "scroll": true,
        "innerPadding": true,
        "verticalTabs": false,
        "variables": "@{parent.variables}",
        "traversing": false,
        "value": "",
        "default": "",
        "linkId": "",
        "address": "auto",
        "preArgs": "",
        "typeTags": "",
        "decimals": 2,
        "target": "",
        "ignoreDefaults": false,
        "bypass": false,
        "onCreate": "",
        "onValue": "",
        "widgets": [],
        "tabs": [
          {
            "type": "tab",
            "id": "tab_basics",
            "visible": true,
            "interaction": true,
            "comments": "",
            "colorText": "auto",
            "colorWidget": "auto",
            "colorFill": "auto",
            "padding": "auto",
            "html": "",
            "css": "",
            "colorBg": "auto",
            "layout": "default",
            "justify": "start",
            "gridTemplate": "",
            "contain": true,
            "scroll": true,
            "innerPadding": true,
            "verticalTabs": false,
            "label": "Basics",
            "variables": "@{parent.variables}",
            "traversing": false,
            "value": "",
            "default": "",
            "linkId": "",
            "address": "auto",
            "preArgs": "",
            "typeTags": "",
            "decimals": 2,
            "target": "",
            "ignoreDefaults": false,
            "bypass": false,
            "onCreate": "",
            "onValue": "",
            "widgets": [
              {
                "type": "button",
                "top": "15%",
                "left": "20%",
                "id": "button_prev",
                "visible": true,
                "interaction": true,
                "comments": "",
                "width": "20%",
                "height": "7.5%",
                "expand": "false",
                "colorText": "auto",
                "colorWidget": "auto",
                "colorStroke": "auto",
                "colorFill": "auto",
                "alphaStroke": "auto",
                "alphaFillOff": "auto",
                "alphaFillOn": "auto",
                "lineWidth": "auto",
                "padding": "auto",
                "html": "",
                "css": "font-size: 20px",
                "colorTextOn": "auto",
                "label": "Previous",
                "vertical": false,
                "wrap": false,
                "on": 1,
                "off": 0,
                "mode": "tap",
                "doubleTap": false,
                "value": "",
                "default": "",
                "linkId": "",
                "address": "/playhead/previous",
                "preArgs": "",
                "typeTags": "",
                "decimals": 2,
                "target": "",
                "ignoreDefaults": false,
                "bypass": false,
                "onCreate": "",
                "onValue": ""
              },
              {
                "type": "button",
                "top": "0%",
                "left": "0%",
                "id": "button_go",
                "visible": true,
                "comments": "",
                "width": "20%",
                "height": "15%",
                "expand": "false",
                "colorText": "auto",
                "colorWidget": "auto",
                "colorStroke": "auto",
                "colorFill": "auto",
                "alphaStroke": "auto",
                "alphaFillOff": "auto",
                "alphaFillOn": "auto",
                "lineWidth": "auto",
                "padding": "auto",
                "html": "",
                "css": "font-size: 70px",
                "vertical": false,
                "wrap": false,
                "value": "",
                "default": "",
                "linkId": "",
                "address": "/go",
                "preArgs": "",
                "decimals": 2,
                "target": "",
                "onCreate": "",
                "onValue": "",
                "interaction": true,
                "colorTextOn": "auto",
                "label": "GO",
                "on": 1,
                "off": 0,
                "mode": "tap",
                "doubleTap": false,
                "typeTags": "",
                "ignoreDefaults": false,
                "bypass": false
              },
              {
                "type": "text",
                "top": "0%",
                "left": "20%",
                "id": "text_nextcue",
                "visible": true,
                "comments": "",
                "width": "80%",
                "height": "10%",
                "expand": "false",
                "colorText": "auto",
                "colorWidget": "auto",
                "colorStroke": "auto",
                "colorFill": "auto",
                "alphaStroke": "auto",
                "alphaFillOff": "auto",
                "alphaFillOn": "auto",
                "lineWidth": "auto",
                "padding": "auto",
                "html": "",
                "css": "font-size: 30px; font-weight: bold;",
                "vertical": false,
                "wrap": false,
                "align": "center",
                "value": "",
                "default": "",
                "linkId": "",
                "address": "/cue/selected/displayName",
                "preArgs": "",
                "decimals": 2,
                "target": "",
                "onCreate": "",
                "onValue": ""
              },
              {
                "type": "text",
                "top": "10%",
                "left": "20%",
                "id": "text_notes",
                "visible": true,
                "comments": "",
                "width": "80%",
                "height": "5%",
                "expand": false,
                "colorText": "auto",
                "colorWidget": "auto",
                "colorStroke": "auto",
                "colorFill": "auto",
                "alphaStroke": "auto",
                "alphaFillOff": "auto",
                "alphaFillOn": "auto",
                "lineWidth": "auto",
                "padding": "auto",
                "html": "",
                "css": "font-size: 15px",
                "vertical": false,
                "wrap": false,
                "value": "",
                "default": "",
                "linkId": "",
                "address": "/cue/selected/notes",
                "preArgs": "",
                "decimals": 2,
                "target": "",
                "onCreate": "",
                "onValue": "",
                "align": "center"
              },
              {
                "type": "button",
                "top": "15%",
                "left": "60%",
                "id": "button_lxup",
                "visible": true,
                "interaction": true,
                "comments": "",
                "width": "20%",
                "height": "7.5%",
                "expand": "false",
                "colorText": "auto",
                "colorWidget": "auto",
                "colorStroke": "auto",
                "colorFill": "auto",
                "alphaStroke": "auto",
                "alphaFillOff": "auto",
                "alphaFillOn": "auto",
                "lineWidth": "auto",
                "padding": "auto",
                "html": "",
                "css": "font-size: 20px",
                "colorTextOn": "auto",
                "label": "Lights Up",
                "vertical": false,
                "wrap": false,
                "on": 1,
                "off": 0,
                "mode": "tap",
                "doubleTap": false,
                "value": "",
                "default": "",
                "linkId": "",
                "address": "/dashboard/setLight",
                "preArgs": "[\n  \"@{input_lxup_setting}\",\n  @{input_lxup_value}\n]",
                "typeTags": "sf",
                "decimals": 2,
                "target": "",
                "ignoreDefaults": false,
                "bypass": false,
                "onCreate": "",
                "onValue": ""
              },
              {
                "type": "button",
                "top": "15%",
                "left": "80%",
                "id": "button_blackout",
                "visible": true,
                "interaction": true,
                "comments": "",
                "width": "20%",
                "height": "7.5%",
                "expand": "false",
                "colorText": "auto",
                "colorWidget": "auto",
                "colorStroke": "auto",
                "colorFill": "auto",
                "alphaStroke": "auto",
                "alphaFillOff": "auto",
                "alphaFillOn": "auto",
                "lineWidth": "auto",
                "padding": "auto",
                "html": "",
                "css": "font-size: 20px",
                "colorTextOn": "auto",
                "label": "Blackout",
                "vertical": false,
                "wrap": false,
                "on": 1,
                "off": 0,
                "mode": "tap",
                "doubleTap": false,
                "value": "",
                "default": "",
                "linkId": "",
                "address": "/dashboard/setLight",
                "preArgs": "[\n  \"@{input_black_setting}\",\n  @{input_black_value}\n]",
                "typeTags": "sf",
                "decimals": 2,
                "target": "",
                "ignoreDefaults": false,
                "bypass": false,
                "onCreate": "",
                "onValue": ""
              },
              {
                "type": "button",
                "top": "15%",
                "left": "0%",
                "id": "button_panic",
                "visible": true,
                "interaction": true,
                "comments": "",
                "width": "20%",
                "height": "7.5%",
                "expand": "false",
                "colorText": "auto",
                "colorWidget": "auto",
                "colorStroke": "auto",
                "colorFill": "auto",
                "alphaStroke": "auto",
                "alphaFillOff": "auto",
                "alphaFillOn": "auto",
                "lineWidth": "auto",
                "padding": "auto",
                "html": "<p style=\"font-size: 10px; padding-botom: 3px;\">Double-tap</p>",
                "css": "font-size: 20px",
                "colorTextOn": "auto",
                "label": "Panic",
                "vertical": false,
                "wrap": false,
                "on": 1,
                "off": 0,
                "mode": "tap",
                "doubleTap": true,
                "value": "",
                "default": "",
                "linkId": "",
                "address": "/panic",
                "preArgs": "",
                "typeTags": "",
                "decimals": 2,
                "target": "",
                "ignoreDefaults": false,
                "bypass": false,
                "onCreate": "",
                "onValue": ""
              },
              {
                "type": "button",
                "top": "15%",
                "left": "40%",
                "id": "button_next",
                "visible": true,
                "interaction": true,
                "comments": "",
                "width": "20%",
                "height": "7.5%",
                "expand": "false",
                "colorText": "auto",
                "colorWidget": "auto",
                "colorStroke": "auto",
                "colorFill": "auto",
                "alphaStroke": "auto",
                "alphaFillOff": "auto",
                "alphaFillOn": "auto",
                "lineWidth": "auto",
                "padding": "auto",
                "html": "",
                "css": "font-size: 20px",
                "colorTextOn": "auto",
                "label": "Next",
                "vertical": false,
                "wrap": false,
                "on": 1,
                "off": 0,
                "mode": "tap",
                "doubleTap": false,
                "value": "",
                "default": "",
                "linkId": "",
                "address": "/playhead/next",
                "preArgs": "",
                "typeTags": "",
                "decimals": 2,
                "target": "",
                "ignoreDefaults": false,
                "bypass": false,
                "onCreate": "",
                "onValue": ""
              }
            ],
            "tabs": []
          },
          {
            "type": "tab",
            "id": "tab_lights",
            "visible": true,
            "interaction": true,
            "comments": "",
            "colorText": "auto",
            "colorWidget": "auto",
            "colorFill": "auto",
            "padding": "auto",
            "html": "",
            "css": "",
            "colorBg": "auto",
            "layout": "default",
            "justify": "start",
            "gridTemplate": "",
            "contain": true,
            "scroll": true,
            "innerPadding": true,
            "verticalTabs": false,
            "label": "Lights",
            "variables": "@{parent.variables}",
            "traversing": false,
            "value": "",
            "default": "",
            "linkId": "",
            "address": "auto",
            "preArgs": "",
            "typeTags": "",
            "decimals": 2,
            "target": "",
            "ignoreDefaults": false,
            "bypass": false,
            "onCreate": "",
            "onValue": "",
            "widgets": [
              {
                "type": "variable",
                "id": "var_patch",
                "comments": "",
                "value": "OSC{/settings/light/patch}",
                "default": "",
                "linkId": "",
                "address": "auto",
                "preArgs": "",
                "typeTags": "",
                "decimals": 2,
                "target": "",
                "ignoreDefaults": false,
                "bypass": false,
                "onCreate": "",
                "onValue": ""
              },
              {
                "type": "variable",
                "id": "var_fixture",
                "comments": "",
                "value": "JS{\n  const patch = @{var_patch};\n  let fixture = patch.groups.find(g => g.name == @{menu_fixture.value});\n  if (fixture === undefined) {\n    fixture = patch.instruments.find(i => i.name == @{menu_fixture.value});\n  }\n\n  return fixture;\n}",
                "default": "",
                "linkId": "",
                "address": "auto",
                "preArgs": "",
                "decimals": 2,
                "target": "",
                "onCreate": "",
                "onValue": "",
                "typeTags": "",
                "ignoreDefaults": false,
                "bypass": false
              },
              {
                "type": "variable",
                "id": "var_lights",
                "comments": "",
                "value": "",
                "default": "",
                "linkId": "",
                "address": "auto",
                "preArgs": "",
                "typeTags": "",
                "decimals": 2,
                "target": "",
                "ignoreDefaults": false,
                "bypass": false,
                "onCreate": "",
                "onValue": ""
              },
              {
                "type": "menu",
                "id": "menu_fixture",
                "comments": "",
                "value": "",
                "default": "",
                "linkId": "",
                "address": "auto",
                "preArgs": "",
                "typeTags": "",
                "decimals": 2,
                "target": "",
                "ignoreDefaults": false,
                "bypass": true,
                "onCreate": "",
                "onValue": "",
                "top": 0,
                "left": 0,
                "visible": true,
                "interaction": true,
                "width": "80%",
                "height": "10%",
                "expand": "false",
                "colorText": "auto",
                "colorWidget": "auto",
                "colorStroke": "auto",
                "colorFill": "auto",
                "alphaStroke": "auto",
                "alphaFillOff": "auto",
                "alphaFillOn": "auto",
                "lineWidth": "auto",
                "padding": "auto",
                "html": "",
                "css": "menu { width: 70%; height: 90%; }\n:host { font-size: 15px; }",
                "layout": "grid",
                "gridTemplate": 5,
                "label": "auto",
                "icon": true,
                "values": "JS{\n  const groups = @{var_patch}.groups.map(g => g.name);\n  const instr = @{var_patch}.instruments.map(i => i.name);\n\n  return groups.concat(instr);\n}",
                "size": 200,
                "ignoreTabs": false,
                "textAlign": "center",
                "menuAlignV": "top",
                "menuAlignH": "center",
                "toggle": true,
                "doubleTap": false,
                "weights": ""
              },
              {
                "type": "matrix",
                "top": "10%",
                "left": "0%",
                "id": "matrix_labels",
                "visible": true,
                "interaction": true,
                "comments": "",
                "width": "100%",
                "height": "5%",
                "expand": "false",
                "colorText": "auto",
                "colorWidget": "auto",
                "colorStroke": "auto",
                "colorFill": "auto",
                "alphaStroke": "auto",
                "alphaFillOff": "auto",
                "alphaFillOn": "auto",
                "lineWidth": 0,
                "padding": "auto",
                "html": "",
                "css": "",
                "layout": "horizontal",
                "gridTemplate": "",
                "value": "",
                "default": "",
                "linkId": "",
                "address": "auto",
                "preArgs": "",
                "typeTags": "",
                "decimals": 2,
                "target": "",
                "ignoreDefaults": false,
                "bypass": true,
                "onCreate": "",
                "onValue": "",
                "colorBg": "auto",
                "justify": "start",
                "contain": true,
                "scroll": true,
                "innerPadding": true,
                "variables": "@{parent.variables}",
                "traversing": false,
                "widgetType": "text",
                "quantity": "JS{\n  const fixture = @{var_fixture};\n  let params = null;\n  if (typeof fixture.definition !== 'undefined') {\n    params = window.Object.values(fixture.definition.parameters);\n  } else {\n    params = fixture.parameters;\n  }\n\n  return params?.filter(p => p.type == 'scalar')?.length ?? 0;\n}",
                "props": {
                  "value": "JS{ const fixture=@{var_fixture};let params=null;if(typeof fixture.definition!=='undefined'){params=window.Object.values(fixture.definition.parameters).filter(p=>p.type=='scalar')}else{params=fixture.parameters.filter(p=>p.type=='scalar')} return params[$].name}"
                },
                "widgets": [],
                "tabs": []
              },
              {
                "type": "matrix",
                "id": "matrix_faders",
                "comments": "",
                "value": "",
                "default": "",
                "linkId": "",
                "address": "auto",
                "preArgs": "",
                "typeTags": "",
                "decimals": 2,
                "target": "",
                "ignoreDefaults": false,
                "bypass": false,
                "onCreate": "",
                "onValue": "",
                "top": "20%",
                "left": "0%",
                "visible": true,
                "interaction": true,
                "width": "100%",
                "height": "80%",
                "expand": "false",
                "colorText": "auto",
                "colorWidget": "auto",
                "colorStroke": "auto",
                "colorFill": "auto",
                "alphaStroke": "auto",
                "alphaFillOff": "auto",
                "alphaFillOn": "auto",
                "lineWidth": 0,
                "padding": "auto",
                "css": "",
                "colorBg": "auto",
                "layout": "horizontal",
                "justify": "start",
                "gridTemplate": "",
                "contain": true,
                "scroll": true,
                "innerPadding": true,
                "variables": "@{parent.variables}",
                "traversing": false,
                "widgets": [],
                "tabs": [],
                "html": "",
                "widgetType": "fader",
                "quantity": "JS{\n  const fixture = @{var_fixture};\n  let params = null;\n  if (typeof fixture.definition !== 'undefined') {\n    params = window.Object.values(fixture.definition.parameters);\n  } else {\n    params = fixture.parameters;\n  }\n\n  return params?.filter(p => p.type == 'scalar')?.length ?? 0;\n}",
                "props": "JS{\n  const picker = @{rgb_picker.value};\n  const plot = @{xy_pantilt.value};\n  \n  const fixture = @{var_fixture};\n  let params = null;\n  if (typeof fixture.definition !== 'undefined') {\n    params = window.Object.values(fixture.definition.parameters).filter(p => p.type == 'scalar');\n  } else {\n    params = fixture.parameters.filter(p => p.type == 'scalar');\n  }\n  \n  const param = params[$];\n  \n  let value = 0;\n  if (param.name == 'red') {\n    value = picker[0];\n  } else if (param.name == 'green') {\n    value = picker[1];\n  } else if (param.name == 'blue') {\n    value = picker[2];\n  } else if (param.name == 'pan') {\n    value = plot[0];\n  } else if (param.name == 'tilt') {\n    value = plot[1];\n  }\n  \n  return {\n    design: \"compact\",\n    snap: true,\n    address: \"/dashboard/setLight\",\n    preArgs: [ `${fixture.name}.${param.name}` ],\n    typeTags: \"s\",\n    range: { \"min\": 0, \"max\": param.valueIsPercentage ? 100 : 255 },\n    id: `fader_${fixture.name}_${param.name}`,\n    value,\n    linkId: `fader_${fixture.name}_${param.name}`,\n  };\n}"
              },
              {
                "type": "matrix",
                "top": "15%",
                "left": "0%",
                "id": "matrix_fader_values",
                "visible": true,
                "interaction": true,
                "comments": "",
                "width": "100%",
                "height": "5%",
                "expand": "false",
                "colorText": "auto",
                "colorWidget": "auto",
                "colorStroke": "auto",
                "colorFill": "auto",
                "alphaStroke": "auto",
                "alphaFillOff": "auto",
                "alphaFillOn": "auto",
                "lineWidth": 0,
                "padding": "auto",
                "html": "",
                "css": "",
                "colorBg": "auto",
                "layout": "horizontal",
                "justify": "start",
                "gridTemplate": "",
                "contain": true,
                "scroll": true,
                "innerPadding": true,
                "variables": "@{parent.variables}",
                "traversing": false,
                "widgetType": "input",
                "quantity": "JS{\n  const fixture = @{var_fixture};\n  let params = null;\n  if (typeof fixture.definition !== 'undefined') {\n    params = window.Object.values(fixture.definition.parameters);\n  } else {\n    params = fixture.parameters;\n  }\n\n  return params?.filter(p => p.type == 'scalar')?.length ?? 0;\n}",
                "props": "JS{\n  const picker = @{rgb_picker.value};\n  const fixture = @{var_fixture};\n  let params = null;\n  if (typeof fixture.definition !== 'undefined') {\n    params = window.Object.values(fixture.definition.parameters).filter(p => p.type == 'scalar');\n  } else {\n    params = fixture.parameters.filter(p => p.type == 'scalar');\n  }\n  \n  const param = params[$];\n  \n  let colorFill = 'rgb(0,0,0)';\n  if (param.name == 'red') {\n    colorFill = 'rgb(#_{@_{this} / 100 * 255},0,0)';\n  } else if (param.name == 'green') {\n    colorFill = 'rgb(0,#_{@_{this} / 100 * 255},0)';\n  } else if (param.name == 'blue') {\n    colorFill = 'rgb(0, 0, #_{@_{this} / 100 * 255})';\n  } else if (param.name == 'intensity') {\n    let incr = '#_{@_{this} / 100 * 255}';\n    colorFill = `rgb(${incr},${incr},${incr})`;\n  }\n  \n  return {\n    linkId: `fader_${fixture.name}_${param.name}`,\n    'default': 0,\n    asYouType: true,\n    numeric: true,\n    unit: param.valueIsPercentage ? '%' : '',\n    colorFill,\n    css: ':focus { color: white; caret-color: white; }'\n  };\n}",
                "value": "",
                "default": "",
                "linkId": "",
                "address": "auto",
                "preArgs": "",
                "typeTags": "",
                "decimals": 2,
                "target": "",
                "ignoreDefaults": false,
                "bypass": false,
                "onCreate": "",
                "onValue": "",
                "widgets": [],
                "tabs": []
              },
              {
                "type": "modal",
                "top": 0,
                "left": "80%",
                "id": "modal_interfaces",
                "visible": true,
                "interaction": true,
                "comments": "",
                "width": "10%",
                "height": "10%",
                "expand": false,
                "colorText": "auto",
                "colorWidget": "auto",
                "colorStroke": "auto",
                "colorFill": "auto",
                "alphaStroke": "auto",
                "alphaFillOff": "auto",
                "alphaFillOn": "auto",
                "lineWidth": "auto",
                "padding": "auto",
                "css": "",
                "colorBg": "auto",
                "layout": "grid",
                "justify": "start",
                "gridTemplate": 2,
                "contain": true,
                "scroll": true,
                "innerPadding": true,
                "variables": "@{parent.variables}",
                "traversing": false,
                "value": "",
                "default": "",
                "linkId": "",
                "address": "auto",
                "preArgs": "",
                "typeTags": "",
                "decimals": 2,
                "target": "",
                "ignoreDefaults": false,
                "bypass": true,
                "onCreate": "",
                "onValue": "if (value !== 1) return;\nconst fixture = @{var_fixture};\n\nif (get('var_rgb_prop') !== '') {\n  for (const x of ['red', 'green', 'blue']) {\n    const val = get(`fader_${fixture.name}_${x}`);\n    set(`var_rgbpicker_${x}`, val);\n  }\n}\n  \nif (get('var_pt_prop') !== '') {\n  for (const x of ['pan', 'tilt']) {\n    const val = get(`fader_${fixture.name}_${x}`);\n    set(`var_xy_${x}`, val);\n  }\n}\n\nconsole.log(get('var_xy_pan'))",
                "widgets": [
                  {
                    "type": "variable",
                    "id": "var_rgb_prop",
                    "comments": "",
                    "value": "JS{ const fixture=@{var_fixture};let params=null;if(typeof fixture.definition!=='undefined'){params=window.Object.values(fixture.definition.parameters);}else{params=fixture.parameters} return params.find(p => p.type == 'rgbcolor'); }",
                    "default": "",
                    "linkId": "",
                    "address": "auto",
                    "preArgs": "",
                    "typeTags": "",
                    "decimals": 2,
                    "target": "",
                    "ignoreDefaults": false,
                    "bypass": false,
                    "onCreate": "",
                    "onValue": ""
                  },
                  {
                    "type": "variable",
                    "id": "var_pt_prop",
                    "comments": "",
                    "value": "JS{ const fixture=@{var_fixture};let params=null;if(typeof fixture.definition!=='undefined'){params=window.Object.values(fixture.definition.parameters);}else{params=fixture.parameters} return params.find(p => p.type == 'pantilt'); }",
                    "default": "",
                    "linkId": "",
                    "address": "auto",
                    "preArgs": "",
                    "typeTags": "",
                    "decimals": 2,
                    "target": "",
                    "ignoreDefaults": false,
                    "bypass": false,
                    "onCreate": "",
                    "onValue": ""
                  },
                  {
                    "type": "panel",
                    "top": 10,
                    "left": 80,
                    "id": "panel_rgb",
                    "visible": "JS{ return @{var_rgb_prop} !=='' }",
                    "interaction": true,
                    "comments": "",
                    "width": "auto",
                    "height": "auto",
                    "expand": false,
                    "colorText": "auto",
                    "colorWidget": "auto",
                    "colorStroke": "auto",
                    "colorFill": "auto",
                    "alphaStroke": "auto",
                    "alphaFillOff": "auto",
                    "alphaFillOn": "auto",
                    "lineWidth": "auto",
                    "padding": "auto",
                    "html": "",
                    "css": "JS{ return @{var_pt_prop} === '' ? 'grid-column: span 2 / span 2' : '' }",
                    "colorBg": "auto",
                    "layout": "default",
                    "justify": "start",
                    "gridTemplate": "",
                    "contain": true,
                    "scroll": true,
                    "innerPadding": true,
                    "verticalTabs": false,
                    "variables": "@{parent.variables}",
                    "traversing": false,
                    "value": "",
                    "default": "",
                    "linkId": "",
                    "address": "auto",
                    "preArgs": "",
                    "typeTags": "",
                    "decimals": 2,
                    "target": "",
                    "ignoreDefaults": false,
                    "bypass": false,
                    "onCreate": "",
                    "onValue": "",
                    "widgets": [
                      {
                        "type": "text",
                        "top": "0%",
                        "left": "0%",
                        "id": "text_rgb_heading",
                        "visible": true,
                        "comments": "",
                        "width": "100%",
                        "height": "5%",
                        "expand": "false",
                        "colorText": "auto",
                        "colorWidget": "auto",
                        "colorStroke": "auto",
                        "colorFill": "auto",
                        "alphaStroke": "auto",
                        "alphaFillOff": "auto",
                        "alphaFillOn": "auto",
                        "lineWidth": "auto",
                        "padding": "auto",
                        "html": "",
                        "css": "font-size: 15px;",
                        "vertical": false,
                        "wrap": false,
                        "align": "center",
                        "value": "RGB Picker",
                        "default": "",
                        "linkId": "",
                        "address": "auto",
                        "preArgs": "",
                        "decimals": 2,
                        "target": "",
                        "onCreate": "",
                        "onValue": ""
                      },
                      {
                        "type": "rgb",
                        "top": "5%",
                        "left": "0%",
                        "id": "rgb_picker",
                        "visible": true,
                        "interaction": true,
                        "comments": "",
                        "width": "100%",
                        "height": "95%",
                        "expand": "false",
                        "colorText": "auto",
                        "colorWidget": "auto",
                        "colorStroke": "auto",
                        "colorFill": "auto",
                        "alphaStroke": "auto",
                        "alphaFillOff": "auto",
                        "alphaFillOn": "auto",
                        "lineWidth": "auto",
                        "padding": "auto",
                        "html": "",
                        "css": "",
                        "snap": true,
                        "spring": false,
                        "range": {
                          "min": 0,
                          "max": 100
                        },
                        "alpha": false,
                        "rangeAlpha": {
                          "min": 0,
                          "max": 1
                        },
                        "value": [
                          "@{var_rgbpicker_red}",
                          "@{var_rgbpicker_green}",
                          "@{var_rgbpicker_blue}"
                        ],
                        "default": "",
                        "linkId": "",
                        "address": "/dashboard/setLight",
                        "preArgs": [
                          "@{var_fixture.value.name}.@{var_rgb_prop.value.name}",
                          "rgb"
                        ],
                        "typeTags": "ss",
                        "decimals": 2,
                        "target": "",
                        "ignoreDefaults": false,
                        "bypass": false,
                        "onCreate": "",
                        "onValue": "",
                        "onTouch": ""
                      },
                      {
                        "type": "variable",
                        "id": "var_rgbpicker_red",
                        "comments": "",
                        "value": "",
                        "default": "",
                        "linkId": "",
                        "address": "auto",
                        "preArgs": "",
                        "typeTags": "",
                        "decimals": 2,
                        "target": "",
                        "ignoreDefaults": false,
                        "bypass": false,
                        "onCreate": "",
                        "onValue": ""
                      },
                      {
                        "type": "variable",
                        "id": "var_rgbpicker_green",
                        "comments": "",
                        "value": "",
                        "default": "",
                        "linkId": "",
                        "address": "auto",
                        "preArgs": "",
                        "typeTags": "",
                        "decimals": 2,
                        "target": "",
                        "ignoreDefaults": false,
                        "bypass": false,
                        "onCreate": "",
                        "onValue": ""
                      },
                      {
                        "type": "variable",
                        "id": "var_rgbpicker_blue",
                        "comments": "",
                        "value": "",
                        "default": "",
                        "linkId": "",
                        "address": "auto",
                        "preArgs": "",
                        "typeTags": "",
                        "decimals": 2,
                        "target": "",
                        "ignoreDefaults": false,
                        "bypass": false,
                        "onCreate": "",
                        "onValue": ""
                      }
                    ],
                    "tabs": []
                  },
                  {
                    "type": "panel",
                    "top": 20,
                    "left": 70,
                    "id": "panel_pantilt",
                    "visible": "JS{ return @{var_pt_prop} !== '' }",
                    "interaction": true,
                    "comments": "",
                    "width": "auto",
                    "height": "auto",
                    "expand": "false",
                    "colorText": "auto",
                    "colorWidget": "auto",
                    "colorStroke": "auto",
                    "colorFill": "auto",
                    "alphaStroke": "auto",
                    "alphaFillOff": "auto",
                    "alphaFillOn": "auto",
                    "lineWidth": "auto",
                    "padding": "auto",
                    "html": "",
                    "css": "JS{ return @{var_rgb_prop} === '' ? 'grid-column: span 2 / span 2' : '' }",
                    "colorBg": "auto",
                    "layout": "default",
                    "justify": "start",
                    "gridTemplate": "",
                    "contain": true,
                    "scroll": true,
                    "innerPadding": true,
                    "verticalTabs": false,
                    "variables": "@{parent.variables}",
                    "traversing": false,
                    "value": "",
                    "default": "",
                    "linkId": "",
                    "address": "auto",
                    "preArgs": "",
                    "typeTags": "",
                    "decimals": 2,
                    "target": "",
                    "ignoreDefaults": false,
                    "bypass": false,
                    "onCreate": "",
                    "onValue": "",
                    "widgets": [
                      {
                        "type": "text",
                        "top": 0,
                        "left": 0,
                        "id": "text_pt_heading",
                        "visible": true,
                        "comments": "",
                        "width": "100%",
                        "height": "5%",
                        "expand": "false",
                        "colorText": "auto",
                        "colorWidget": "auto",
                        "colorStroke": "auto",
                        "colorFill": "auto",
                        "alphaStroke": "auto",
                        "alphaFillOff": "auto",
                        "alphaFillOn": "auto",
                        "lineWidth": "auto",
                        "padding": "auto",
                        "html": "",
                        "css": "font-size: 15px;",
                        "vertical": false,
                        "wrap": false,
                        "align": "center",
                        "value": "Pan/Tilt Plot",
                        "default": "",
                        "linkId": "",
                        "address": "auto",
                        "preArgs": "",
                        "decimals": 2,
                        "target": "",
                        "onCreate": "",
                        "onValue": ""
                      },
                      {
                        "type": "xy",
                        "top": "5%",
                        "left": "0%",
                        "id": "xy_pantilt",
                        "visible": true,
                        "interaction": true,
                        "comments": "",
                        "width": "100%",
                        "height": "95%",
                        "expand": "false",
                        "colorText": "auto",
                        "colorWidget": "auto",
                        "colorStroke": "auto",
                        "colorFill": "auto",
                        "alphaStroke": "auto",
                        "alphaFillOff": "auto",
                        "alphaFillOn": "auto",
                        "lineWidth": "auto",
                        "padding": "auto",
                        "html": "",
                        "css": "",
                        "pointSize": 15,
                        "ephemeral": false,
                        "pips": false,
                        "snap": true,
                        "spring": false,
                        "rangeX": {
                          "min": 0,
                          "max": 100
                        },
                        "rangeY": {
                          "min": 0,
                          "max": 100
                        },
                        "logScaleX": false,
                        "logScaleY": false,
                        "doubleTap": false,
                        "sensitivity": 1,
                        "value": "[\n  @{var_xy_pan},\n  @{var_xy_tilt}\n]",
                        "default": "",
                        "linkId": "",
                        "address": "/dashboard/setLight",
                        "preArgs": [
                          "@{var_fixture.value.name}.@{var_pt_prop.value.name}",
                          "pantilt"
                        ],
                        "typeTags": "ss",
                        "decimals": 2,
                        "target": "",
                        "ignoreDefaults": false,
                        "bypass": false,
                        "onCreate": "",
                        "onValue": "",
                        "onTouch": ""
                      },
                      {
                        "type": "variable",
                        "id": "var_xy_pan",
                        "comments": "",
                        "value": "",
                        "default": "",
                        "linkId": "",
                        "address": "auto",
                        "preArgs": "",
                        "typeTags": "",
                        "decimals": 2,
                        "target": "",
                        "ignoreDefaults": false,
                        "bypass": false,
                        "onCreate": "",
                        "onValue": ""
                      },
                      {
                        "type": "variable",
                        "id": "var_xy_tilt",
                        "comments": "",
                        "value": "",
                        "default": "",
                        "linkId": "",
                        "address": "auto",
                        "preArgs": "",
                        "typeTags": "",
                        "decimals": 2,
                        "target": "",
                        "ignoreDefaults": false,
                        "bypass": false,
                        "onCreate": "",
                        "onValue": ""
                      }
                    ],
                    "tabs": []
                  }
                ],
                "tabs": [],
                "popupWidth": "80%",
                "popupHeight": "80%",
                "popupLeft": "auto",
                "popupTop": "auto",
                "relative": false,
                "ignoreTabs": false,
                "label": "Interfaces",
                "popupLabel": "Interfaces",
                "popupPadding": "auto",
                "doubleTap": false
              },
              {
                "type": "modal",
                "top": "0%",
                "left": "90%",
                "id": "modal_tools",
                "visible": true,
                "interaction": true,
                "comments": "",
                "width": "10%",
                "height": "10%",
                "expand": false,
                "colorText": "auto",
                "colorWidget": "auto",
                "colorStroke": "auto",
                "colorFill": "auto",
                "alphaStroke": "auto",
                "alphaFillOff": "auto",
                "alphaFillOn": "auto",
                "lineWidth": "auto",
                "padding": "auto",
                "css": "",
                "colorBg": "auto",
                "layout": "default",
                "justify": "start",
                "gridTemplate": 2,
                "contain": true,
                "scroll": true,
                "innerPadding": true,
                "variables": "@{parent.variables}",
                "traversing": false,
                "value": "",
                "default": "",
                "linkId": "",
                "address": "auto",
                "preArgs": "",
                "typeTags": "",
                "decimals": 2,
                "target": "",
                "ignoreDefaults": false,
                "bypass": true,
                "onCreate": "",
                "onValue": "if (value !== 1) return;\nconst fixture = @{var_fixture};\n\nif (get('var_rgb_prop') !== '') {\n  for (const x of ['red', 'green', 'blue']) {\n    const val = get(`fader_${fixture.name}_${x}`);\n    set(`var_rgbpicker_${x}`, val);\n  }\n}\n  \nif (get('var_pt_prop') !== '') {\n  for (const x of ['pan', 'tilt']) {\n    const val = get(`fader_${fixture.name}_${x}`);\n    set(`var_xy_${x}`, val);\n  }\n}\n\nconsole.log(get('var_xy_pan'))",
                "widgets": [
                  {
                    "type": "panel",
                    "top": 0,
                    "left": 0,
                    "id": "tools_main",
                    "visible": true,
                    "interaction": true,
                    "comments": "",
                    "width": "100%",
                    "height": "100%",
                    "expand": "false",
                    "colorText": "auto",
                    "colorWidget": "auto",
                    "colorStroke": "auto",
                    "colorFill": "auto",
                    "alphaStroke": "auto",
                    "alphaFillOff": "auto",
                    "alphaFillOn": "auto",
                    "lineWidth": "auto",
                    "padding": "auto",
                    "html": "",
                    "css": "",
                    "colorBg": "auto",
                    "layout": "default",
                    "justify": "start",
                    "gridTemplate": "",
                    "contain": true,
                    "scroll": true,
                    "innerPadding": true,
                    "verticalTabs": false,
                    "variables": "@{parent.variables}",
                    "traversing": false,
                    "value": "",
                    "default": "",
                    "linkId": "",
                    "address": "auto",
                    "preArgs": "",
                    "typeTags": "",
                    "decimals": 2,
                    "target": "",
                    "ignoreDefaults": false,
                    "bypass": true,
                    "onCreate": "",
                    "onValue": "",
                    "widgets": [],
                    "tabs": [
                      {
                        "type": "tab",
                        "id": "tab_tools_test",
                        "visible": true,
                        "interaction": true,
                        "comments": "",
                        "colorText": "auto",
                        "colorWidget": "auto",
                        "colorFill": "auto",
                        "padding": "auto",
                        "html": "",
                        "css": "",
                        "colorBg": "auto",
                        "layout": "default",
                        "justify": "start",
                        "gridTemplate": "",
                        "contain": true,
                        "scroll": true,
                        "innerPadding": true,
                        "verticalTabs": false,
                        "label": "Light Test",
                        "variables": "@{parent.variables}",
                        "traversing": false,
                        "value": "",
                        "default": "",
                        "linkId": "",
                        "address": "auto",
                        "preArgs": "",
                        "typeTags": "",
                        "decimals": 2,
                        "target": "",
                        "ignoreDefaults": false,
                        "bypass": true,
                        "onCreate": "",
                        "onValue": "",
                        "widgets": [
                          {
                            "type": "variable",
                            "id": "var_test_props",
                            "comments": "",
                            "value": "JS{\n  const instr = @{var_patch}.instruments.map(i => [i.name, window.Object.values(i.definition.parameters).find(p => p.name == 'intensity')]).filter(([,x]) => !!x);\n  return instr.map(([fixture, property]) => ({ fixture, property }))\n}",
                            "default": "",
                            "linkId": "",
                            "address": "auto",
                            "preArgs": "",
                            "typeTags": "",
                            "decimals": 2,
                            "target": "",
                            "ignoreDefaults": false,
                            "bypass": false,
                            "onCreate": "",
                            "onValue": ""
                          },
                          {
                            "type": "dropdown",
                            "top": "0%",
                            "left": "0%",
                            "id": "dropdown_test_item",
                            "visible": true,
                            "interaction": true,
                            "comments": "",
                            "width": "80%",
                            "height": "10%",
                            "expand": "false",
                            "colorText": "auto",
                            "colorWidget": "auto",
                            "colorStroke": "auto",
                            "colorFill": "auto",
                            "alphaStroke": "auto",
                            "alphaFillOff": "auto",
                            "alphaFillOn": "auto",
                            "lineWidth": "auto",
                            "padding": "auto",
                            "html": "",
                            "css": "font-size: 20px",
                            "label": "auto",
                            "icon": "true",
                            "align": "center",
                            "values": "JS{\n  const props = @{var_test_props};\n  return props.map(({ fixture, property }) => `${fixture}.${property.name}`)\n}",
                            "value": "",
                            "default": "JS{\n  const props = @{var_test_props};\n  return props.map(({ fixture, property }) => `${fixture}.${property.name}`)[0];\n}",
                            "linkId": "",
                            "address": "auto",
                            "preArgs": "",
                            "typeTags": "",
                            "decimals": 2,
                            "target": "",
                            "ignoreDefaults": false,
                            "bypass": true,
                            "onCreate": "",
                            "onValue": ""
                          },
                          {
                            "type": "button",
                            "top": "0%",
                            "left": "80%",
                            "id": "button_test_next",
                            "visible": true,
                            "interaction": true,
                            "comments": "",
                            "width": "20%",
                            "height": "10%",
                            "expand": "false",
                            "colorText": "auto",
                            "colorWidget": "auto",
                            "colorStroke": "auto",
                            "colorFill": "auto",
                            "alphaStroke": "auto",
                            "alphaFillOff": "auto",
                            "alphaFillOn": "auto",
                            "lineWidth": "auto",
                            "padding": "auto",
                            "html": "",
                            "css": "font-size: 20px",
                            "colorTextOn": "auto",
                            "label": "Next",
                            "vertical": false,
                            "wrap": false,
                            "on": 1,
                            "off": 0,
                            "mode": "tap",
                            "doubleTap": false,
                            "value": "",
                            "default": "",
                            "linkId": "",
                            "address": "auto",
                            "preArgs": "",
                            "typeTags": "",
                            "decimals": 2,
                            "target": "",
                            "ignoreDefaults": false,
                            "bypass": true,
                            "onCreate": "",
                            "onValue": ""
                          }
                        ],
                        "tabs": []
                      }
                    ]
                  }
                ],
                "tabs": [],
                "popupWidth": "80%",
                "popupHeight": "80%",
                "popupLeft": "auto",
                "popupTop": "auto",
                "relative": false,
                "ignoreTabs": false,
                "label": "Tools",
                "popupLabel": "Tools",
                "popupPadding": "auto",
                "doubleTap": false
              }
            ],
            "tabs": []
          },
          {
            "type": "tab",
            "id": "tab_settings",
            "visible": true,
            "interaction": true,
            "comments": "",
            "colorText": "auto",
            "colorWidget": "auto",
            "colorFill": "auto",
            "padding": "auto",
            "html": "",
            "css": "",
            "colorBg": "auto",
            "layout": "default",
            "justify": "start",
            "gridTemplate": "",
            "contain": true,
            "scroll": true,
            "innerPadding": true,
            "verticalTabs": false,
            "label": "Settings",
            "variables": "@{parent.variables}",
            "traversing": false,
            "value": "",
            "default": "",
            "linkId": "",
            "address": "auto",
            "preArgs": "",
            "typeTags": "",
            "decimals": 2,
            "target": "",
            "ignoreDefaults": false,
            "bypass": false,
            "onCreate": "",
            "onValue": "",
            "widgets": [
              {
                "type": "button",
                "top": "0%",
                "left": "0%",
                "id": "button_settings_lock",
                "visible": true,
                "interaction": true,
                "comments": "",
                "width": "100%",
                "height": "10%",
                "expand": "false",
                "colorText": "auto",
                "colorWidget": "auto",
                "colorStroke": "auto",
                "colorFill": "auto",
                "alphaStroke": "auto",
                "alphaFillOff": "auto",
                "alphaFillOn": "auto",
                "lineWidth": "auto",
                "padding": "auto",
                "html": "",
                "css": "font-size: 15px;",
                "colorTextOn": "auto",
                "label": "JS{ return @{this} == 1 ? 'Double-tap to lock' : 'Double-tap to unlock' }",
                "vertical": false,
                "wrap": false,
                "on": 1,
                "off": 0,
                "mode": "toggle",
                "doubleTap": true,
                "value": "",
                "default": "",
                "linkId": "",
                "address": "auto",
                "preArgs": "",
                "typeTags": "",
                "decimals": 2,
                "target": "",
                "ignoreDefaults": false,
                "bypass": true,
                "onCreate": "",
                "onValue": ""
              },
              {
                "type": "input",
                "top": "10%",
                "left": "0%",
                "id": "input_lxup_setting",
                "visible": true,
                "interaction": "JS{ return @{button_settings_lock} == 1 }",
                "comments": "",
                "width": "100%",
                "height": "10%",
                "expand": "false",
                "colorText": "auto",
                "colorWidget": "auto",
                "colorStroke": "auto",
                "colorFill": "auto",
                "alphaStroke": "auto",
                "alphaFillOff": "auto",
                "alphaFillOn": "auto",
                "lineWidth": "auto",
                "padding": "auto",
                "html": "'Lights up' Setting",
                "css": "font-size: 15px; line-height: 1.5;",
                "align": "center",
                "unit": "",
                "asYouType": false,
                "numeric": false,
                "validation": "",
                "value": "",
                "default": "all.intensity",
                "linkId": "",
                "address": "auto",
                "preArgs": "",
                "typeTags": "",
                "decimals": 2,
                "target": "",
                "ignoreDefaults": false,
                "bypass": false,
                "onCreate": "",
                "onValue": ""
              },
              {
                "type": "input",
                "top": "20%",
                "left": "0%",
                "id": "input_lxup_value",
                "visible": true,
                "interaction": "JS{ return @{button_settings_lock} == 1 }",
                "comments": "",
                "width": "100%",
                "height": "10%",
                "expand": "false",
                "colorText": "auto",
                "colorWidget": "auto",
                "colorStroke": "auto",
                "colorFill": "auto",
                "alphaStroke": "auto",
                "alphaFillOff": "auto",
                "alphaFillOn": "auto",
                "lineWidth": "auto",
                "padding": "auto",
                "html": "'Lights up' Value",
                "css": "font-size: 15px; line-height: 1.5;",
                "align": "center",
                "unit": "",
                "asYouType": false,
                "numeric": true,
                "validation": "[0-9]+",
                "value": "",
                "default": 100,
                "linkId": "",
                "address": "auto",
                "preArgs": "",
                "typeTags": "",
                "decimals": 2,
                "target": "",
                "ignoreDefaults": false,
                "bypass": false,
                "onCreate": "",
                "onValue": ""
              },
              {
                "type": "input",
                "top": "30%",
                "left": "0%",
                "id": "input_black_setting",
                "visible": true,
                "interaction": "JS{ return @{button_settings_lock} == 1 }",
                "comments": "",
                "width": "100%",
                "height": "10%",
                "expand": "false",
                "colorText": "auto",
                "colorWidget": "auto",
                "colorStroke": "auto",
                "colorFill": "auto",
                "alphaStroke": "auto",
                "alphaFillOff": "auto",
                "alphaFillOn": "auto",
                "lineWidth": "auto",
                "padding": "auto",
                "html": "'Blackout' Setting",
                "css": "font-size: 15px; line-height: 1.5;",
                "align": "center",
                "unit": "",
                "asYouType": false,
                "numeric": false,
                "validation": "",
                "value": "",
                "default": "all.intensity",
                "linkId": "",
                "address": "auto",
                "preArgs": "",
                "typeTags": "",
                "decimals": 2,
                "target": "",
                "ignoreDefaults": false,
                "bypass": false,
                "onCreate": "",
                "onValue": ""
              },
              {
                "type": "input",
                "top": "40%",
                "left": "0%",
                "id": "input_black_value",
                "visible": true,
                "interaction": "JS{ return @{button_settings_lock} == 1 }",
                "comments": "",
                "width": "100%",
                "height": "10%",
                "expand": "false",
                "colorText": "auto",
                "colorWidget": "auto",
                "colorStroke": "auto",
                "colorFill": "auto",
                "alphaStroke": "auto",
                "alphaFillOff": "auto",
                "alphaFillOn": "auto",
                "lineWidth": "auto",
                "padding": "auto",
                "html": "'Blackout' Value",
                "css": "font-size: 15px; line-height: 1.5;",
                "align": "center",
                "unit": "",
                "asYouType": false,
                "numeric": true,
                "validation": "[0-9]+",
                "value": "",
                "default": 0,
                "linkId": "",
                "address": "auto",
                "preArgs": "",
                "typeTags": "",
                "decimals": 2,
                "target": "",
                "ignoreDefaults": false,
                "bypass": false,
                "onCreate": "",
                "onValue": ""
              }
            ],
            "tabs": []
          }
        ]
      }
    ],
    "tabs": []
  }
}